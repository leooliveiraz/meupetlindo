<mat-card class="card-pages">
  <mat-card-title>Informações do seu bichinho</mat-card-title>
  <mat-card-subtitle>Desça para ver todas as informações.</mat-card-subtitle>
  <mat-card-content>
    <mat-divider></mat-divider><br />
    <section id="secao-info">
      <div style="width: 100%; text-align: center">
        <app-animal-image [src]="srcImg"></app-animal-image>
      </div>
      <h1 class="">{{ animal?.nome }}</h1>
      <mat-divider></mat-divider><br />
      <div class="" id="data-nascimento" *ngIf="animal?.dataNascimento">
        <div>
          <fa-icon [icon]="cakeIcon" color="primary" size="lg" st></fa-icon>
        </div>
        <label>{{ animal?.dataNascimento | date: "dd/MM/yyyy" }}</label>
      </div>
      <div class="" *ngIf="animal?.dataAdocao" id="data-adocao">
        <div>
          <fa-icon [icon]="heartIcon" color="error" size="lg"></fa-icon>
        </div>
        {{ animal?.dataAdocao | date: "dd/MM/yyyy" }}
      </div>
      <div class="" *ngIf="animal?.dataObito" id="data-obito">
        <fa-icon [icon]="starIcon" color="accent" size="lg"></fa-icon>
        {{ animal?.dataObito | date: "dd/MM/yyyy" }}
      </div>
      <br />
      <div class="" *ngIf="carregando">
        Por favor aguarde, estamos carregando as informações do seu bichinho.
      </div>
    </section>
    <mat-divider></mat-divider>
    <!-- <div *ngIf="!carregando"> -->
  </mat-card-content>
</mat-card>
<br />
<mat-card class="card-pages">
  <mat-card-title>Registro de peso</mat-card-title>
  <mat-card-subtitle
    >Acompanhe todas as pesagens do seu bichinho.</mat-card-subtitle
  >
  <mat-card-content>
    <mat-divider></mat-divider><br />
    <section id="secao-peso">
      <div
        class="white-text text-darken-1 center-align"
        *ngIf="!carregando && listaPeso.length === 0"
      >
        <p>
          <span
            >Parece que você ainda não adicionou um registro de pesagem para
            esse bichinho.</span
          >
          <span *ngIf="animal.dono">
            Clique no botão abaixo para adicionar.</span
          >
        </p>
      </div>

      <div
        style="display: block"
        *ngIf="listaPeso != null && listaPeso.length > 0"
      >
        <canvas
          class="grafico"
          baseChart
          height="350"
          [datasets]="lineChartData"
          [labels]="lineChartLabels"
          [options]="lineChartOptions"
          [type]="'line'"
        ></canvas>
      </div>
      <mat-divider></mat-divider>
      <br />

      <button
        mat-raised-button
        color="primary"
        [routerLink]="'/weight'"
        *ngIf="animal.dono"
        [queryParams]="{ animal: idAnimal }"
      >
        Registrar peso
      </button>
      <br />
      <br />
      <mat-divider></mat-divider>
      <br />
      <div *ngIf="listaPeso != null && listaPeso.length > 0">
        
        <ng-container *ngFor="let item of listaPeso">
          <div class="list-item">
            <div style="align-self: center">
              Data: {{ item.dataPesagem | date: "dd/MM/yyyy" }}, Peso:
              {{ item.peso }}
            </div>
            <button mat-icon-button color="error" style="align-self: center">
              <fa-icon
                [icon]="deleteIcon"
                (click)="excluirPeso(item.id)"
                *ngIf="animal.dono"
              ></fa-icon>
            </button>
          </div>
          <mat-divider></mat-divider>
        </ng-container>
      </div>
      <br />
    </section>
  </mat-card-content>
</mat-card>
